import{a as h,h as re,ag as H,aq as R,ai as M,ah as e}from"./index-DlZb9DCW.js";import{c as j}from"./actions-CcOEXbIm.js";import{a as B,C as ge}from"./index-IkVWE-2m.js";import{I as me,X as N,D as V,Z as ue,B as w,A as pe,a3 as W,C as q,Q as J,M as F,aq as Ce,a0 as he,aj as Se,E as ye,T as L,$ as ve,ar as ie,as as Te,Y as we,L as Ie}from"./IdurarOs-D9w05FI2.js";import{d as P,P as Ae}from"./index-Babd-3t9.js";import{v as xe,R as le,F as ke}from"./helpers-CCBYxJIC.js";import{M as Be}from"./index-CQ7c06Le.js";import{S as U,c as _e}from"./countryList-BEmIN09n.js";import{s as k}from"./index-KrFx5yLV.js";import{c as Ee}from"./color-CnuJOIlI.js";import{T as A}from"./index-fGz7MDv9.js";import{a as fe,u as Fe}from"./useDate-DuhxoyiA.js";import{u as De}from"./useDebounce-CKx3Q9Jm.js";import{S as de,E as Le}from"./index-Bnnboqmj.js";import{D as je}from"./DeleteOutlined-ClaFfTwq.js";import{f as Me,e as Oe,b as Pe,j as Ne,k as He}from"./ErpApp-CtPnJ3L1.js";import{A as Re,a as Ye}from"./ArrowRightOutlined-CNdaGEug.js";import{P as ze}from"./PlusOutlined-D_EOLKmH.js";function Ke(){return Me()}const Ve={useBreakpoint:Ke};var $e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2zM575.34 477.84l-61.22 102.3L452.3 477.8a12 12 0 00-10.27-5.79h-38.44a12 12 0 00-6.4 1.85 12 12 0 00-3.75 16.56l82.34 130.42-83.45 132.78a12 12 0 00-1.84 6.39 12 12 0 0012 12h34.46a12 12 0 0010.21-5.7l62.7-101.47 62.3 101.45a12 12 0 0010.23 5.72h37.48a12 12 0 006.48-1.9 12 12 0 003.62-16.58l-83.83-130.55 85.3-132.47a12 12 0 001.9-6.5 12 12 0 00-12-12h-35.7a12 12 0 00-10.29 5.84z"}}]},name:"file-excel",theme:"filled"},Ze=function(a,l){return h.createElement(me,re({},a,{ref:l,icon:$e}))};const te=h.forwardRef(Ze);var Ge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z"}}]},name:"file",theme:"filled"},We=function(a,l){return h.createElement(me,re({},a,{ref:l,icon:Ge}))};const qe=h.forwardRef(We),Y=t=>t.crud,be=H([Y],t=>t.current),Ue=H([Y],t=>t.list),Je=H([Y],t=>t.create),Qe=H([Y],t=>t.update);H([Y],t=>t.read);const Xe=H([Y],t=>t.delete),ea=H([Y],t=>t.search);function aa({config:t,formElements:a,withUpload:l=!1}){let{entity:i}=t;const d=R(),{isLoading:o,isSuccess:n}=M(Je),{crudContextAction:r}=B(),{panel:f,collapsedBox:b,readBox:C}=r,[m]=N.useForm(),s=V(),c=p=>{p.file&&l&&(p.file=p.file[0].originFileObj),d(j.create({entity:i,jsonData:p,withUpload:l}))};return h.useEffect(()=>{n&&(C.open(),b.open(),f.open(),m.resetFields(),d(j.resetAction({actionType:"create"})),d(j.list({entity:i})))},[n]),e.jsx(ue,{isLoading:o,children:e.jsxs(N,{form:m,layout:"vertical",onFinish:c,children:[a,e.jsx(N.Item,{children:e.jsx(w,{type:"primary",htmlType:"submit",children:s("Submit")})})]})})}function na({config:t,formElements:a,withUpload:l=!1}){let{entity:i}=t;const d=V(),o=R(),{current:n,isLoading:r,isSuccess:f}=M(Qe),{state:b,crudContextAction:C}=B(),{panel:m,collapsedBox:s,readBox:c}=C,p=()=>{c.open()},[S]=N.useForm(),y=u=>{const D=n._id;u.file&&l&&(u.file=u.file[0].originFileObj),o(j.update({entity:i,id:D,jsonData:u,withUpload:l}))};h.useEffect(()=>{if(n){let u={...n};u.birthday&&(u={...u,birthday:P(u.birthday).format("YYYY-MM-DDTHH:mm:ss.SSSZ")}),u.date&&(u={...u,date:P(u.date).format("YYYY-MM-DDTHH:mm:ss.SSSZ")}),u.expiredDate&&(u={...u,expiredDate:P(u.expiredDate).format("YYYY-MM-DDTHH:mm:ss.SSSZ")}),u.created&&(u={...u,created:P(u.created).format("YYYY-MM-DDTHH:mm:ss.SSSZ")}),u.updated&&(u={...u,updated:P(u.updated).format("YYYY-MM-DDTHH:mm:ss.SSSZ")}),S.resetFields(),S.setFieldsValue(u)}},[n]),h.useEffect(()=>{f&&(c.open(),s.open(),m.open(),S.resetFields(),o(j.resetAction({actionType:"update"})),o(j.list({entity:i})))},[f]);const{isEditBoxOpen:x}=b,T=x?{display:"block",opacity:1}:{display:"none",opacity:0};return e.jsx("div",{style:T,children:e.jsx(ue,{isLoading:r,children:e.jsxs(N,{form:S,layout:"vertical",onFinish:y,children:[a,e.jsx(N.Item,{style:{display:"inline-block",paddingRight:"5px"},children:e.jsx(w,{type:"primary",htmlType:"submit",children:d("Save")})}),e.jsx(N.Item,{style:{display:"inline-block",paddingLeft:"5px"},children:e.jsx(w,{onClick:p,children:d("Cancel")})})]})})})}function ta({config:t}){const a=V();let{entity:l,deleteModalLabels:i,deleteMessage:d=a("are_you_sure_you_want_to_delete"),modalTitle:o=a("delete_confirmation")}=t;const n=R(),{current:r,isLoading:f,isSuccess:b}=M(Xe),{state:C,crudContextAction:m}=B(),{appContextAction:s}=pe(),{panel:c,readBox:p}=m,{navMenu:S}=s,{isModalOpen:y}=C,{modal:x}=m,[T,u]=h.useState("");h.useEffect(()=>{if(b&&(console.log("ðŸš€ ~ useEffect ~ DeleteModal isSuccess:",b),x.close(),n(j.list({entity:l}))),r){let E=i.map($=>xe(r,$)).join(" ");u(E)}},[b,r]);const D=()=>{const E=r._id;n(j.delete({entity:l,id:E})),p.close(),x.close(),c.close(),S.collapse()},_=()=>{f||x.close()};return e.jsx(Be,{title:o,open:y,onOk:D,onCancel:_,confirmLoading:f,children:e.jsxs("p",{children:[d,T]})})}const oa=[{code:"ab",name:"Abkhazian"},{code:"aa",name:"Afar"},{code:"af",name:"Afrikaans"},{code:"ak",name:"Akan"},{code:"sq",name:"Albanian"},{code:"am",name:"Amharic"},{code:"ar",name:"Arabic"},{code:"an",name:"Aragonese"},{code:"hy",name:"Armenian"},{code:"as",name:"Assamese"},{code:"av",name:"Avaric"},{code:"ae",name:"Avestan"},{code:"ay",name:"Aymara"},{code:"az",name:"Azerbaijani"},{code:"bm",name:"Bambara"},{code:"ba",name:"Bashkir"},{code:"eu",name:"Basque"},{code:"be",name:"Belarusian"},{code:"bn",name:"Bengali"},{code:"bh",name:"Bihari languages"},{code:"bi",name:"Bislama"},{code:"bs",name:"Bosnian"},{code:"br",name:"Breton"},{code:"bg",name:"Bulgarian"},{code:"my",name:"Burmese"},{code:"ca",name:"Catalan, Valencian"},{code:"km",name:"Central Khmer"},{code:"ch",name:"Chamorro"},{code:"ce",name:"Chechen"},{code:"ny",name:"Chichewa, Chewa, Nyanja"},{code:"zh",name:"Chinese"},{code:"cu",name:"Church Slavonic, Old Bulgarian, Old Church Slavonic"},{code:"cv",name:"Chuvash"},{code:"kw",name:"Cornish"},{code:"co",name:"Corsican"},{code:"cr",name:"Cree"},{code:"hr",name:"Croatian"},{code:"cs",name:"Czech"},{code:"da",name:"Danish"},{code:"dv",name:"Divehi, Dhivehi, Maldivian"},{code:"nl",name:"Dutch, Flemish"},{code:"dz",name:"Dzongkha"},{code:"en",name:"English"},{code:"eo",name:"Esperanto"},{code:"et",name:"Estonian"},{code:"ee",name:"Ewe"},{code:"fo",name:"Faroese"},{code:"fj",name:"Fijian"},{code:"fi",name:"Finnish"},{code:"fr",name:"French"},{code:"ff",name:"Fulah"},{code:"gd",name:"Gaelic, Scottish Gaelic"},{code:"gl",name:"Galician"},{code:"lg",name:"Ganda"},{code:"ka",name:"Georgian"},{code:"de",name:"German"},{code:"ki",name:"Gikuyu, Kikuyu"},{code:"el",name:"Greek (Modern)"},{code:"kl",name:"Greenlandic, Kalaallisut"},{code:"gn",name:"Guarani"},{code:"gu",name:"Gujarati"},{code:"ht",name:"Haitian, Haitian Creole"},{code:"ha",name:"Hausa"},{code:"he",name:"Hebrew"},{code:"hz",name:"Herero"},{code:"hi",name:"Hindi"},{code:"ho",name:"Hiri Motu"},{code:"hu",name:"Hungarian"},{code:"is",name:"Icelandic"},{code:"io",name:"Ido"},{code:"ig",name:"Igbo"},{code:"id",name:"Indonesian"},{code:"ia",name:"Interlingua (International Auxiliary Language Association)"},{code:"ie",name:"Interlingue"},{code:"iu",name:"Inuktitut"},{code:"ik",name:"Inupiaq"},{code:"ga",name:"Irish"},{code:"it",name:"Italian"},{code:"ja",name:"Japanese"},{code:"jv",name:"Javanese"},{code:"kn",name:"Kannada"},{code:"kr",name:"Kanuri"},{code:"ks",name:"Kashmiri"},{code:"kk",name:"Kazakh"},{code:"rw",name:"Kinyarwanda"},{code:"kv",name:"Komi"},{code:"kg",name:"Kongo"},{code:"ko",name:"Korean"},{code:"kj",name:"Kwanyama, Kuanyama"},{code:"ku",name:"Kurdish"},{code:"ky",name:"Kyrgyz"},{code:"lo",name:"Lao"},{code:"la",name:"Latin"},{code:"lv",name:"Latvian"},{code:"lb",name:"Letzeburgesch, Luxembourgish"},{code:"li",name:"Limburgish, Limburgan, Limburger"},{code:"ln",name:"Lingala"},{code:"lt",name:"Lithuanian"},{code:"lu",name:"Luba-Katanga"},{code:"mk",name:"Macedonian"},{code:"mg",name:"Malagasy"},{code:"ms",name:"Malay"},{code:"ml",name:"Malayalam"},{code:"mt",name:"Maltese"},{code:"gv",name:"Manx"},{code:"mi",name:"Maori"},{code:"mr",name:"Marathi"},{code:"mh",name:"Marshallese"},{code:"ro",name:"Moldovan, Moldavian, Romanian"},{code:"mn",name:"Mongolian"},{code:"na",name:"Nauru"},{code:"nv",name:"Navajo, Navaho"},{code:"nd",name:"Northern Ndebele"},{code:"ng",name:"Ndonga"},{code:"ne",name:"Nepali"},{code:"se",name:"Northern Sami"},{code:"no",name:"Norwegian"},{code:"nb",name:"Norwegian BokmÃ¥l"},{code:"nn",name:"Norwegian Nynorsk"},{code:"ii",name:"Nuosu, Sichuan Yi"},{code:"oc",name:"Occitan (post 1500)"},{code:"oj",name:"Ojibwa"},{code:"or",name:"Oriya"},{code:"om",name:"Oromo"},{code:"os",name:"Ossetian, Ossetic"},{code:"pi",name:"Pali"},{code:"pa",name:"Panjabi, Punjabi"},{code:"ps",name:"Pashto, Pushto"},{code:"fa",name:"Persian"},{code:"pl",name:"Polish"},{code:"pt",name:"Portuguese"},{code:"qu",name:"Quechua"},{code:"rm",name:"Romansh"},{code:"rn",name:"Rundi"},{code:"ru",name:"Russian"},{code:"sm",name:"Samoan"},{code:"sg",name:"Sango"},{code:"sa",name:"Sanskrit"},{code:"sc",name:"Sardinian"},{code:"sr",name:"Serbian"},{code:"sn",name:"Shona"},{code:"sd",name:"Sindhi"},{code:"si",name:"Sinhala, Sinhalese"},{code:"sk",name:"Slovak"},{code:"sl",name:"Slovenian"},{code:"so",name:"Somali"},{code:"st",name:"Sotho, Southern"},{code:"nr",name:"South Ndebele"},{code:"es",name:"Spanish, Castilian"},{code:"su",name:"Sundanese"},{code:"sw",name:"Swahili"},{code:"ss",name:"Swati"},{code:"sv",name:"Swedish"},{code:"tl",name:"Tagalog"},{code:"ty",name:"Tahitian"},{code:"tg",name:"Tajik"},{code:"ta",name:"Tamil"},{code:"tt",name:"Tatar"},{code:"te",name:"Telugu"},{code:"th",name:"Thai"},{code:"bo",name:"Tibetan"},{code:"ti",name:"Tigrinya"},{code:"to",name:"Tonga (Tonga Islands)"},{code:"ts",name:"Tsonga"},{code:"tn",name:"Tswana"},{code:"tr",name:"Turkish"},{code:"tk",name:"Turkmen"},{code:"tw",name:"Twi"},{code:"ug",name:"Uighur, Uyghur"},{code:"uk",name:"Ukrainian"},{code:"ur",name:"Urdu"},{code:"uz",name:"Uzbek"},{code:"ve",name:"Venda"},{code:"vi",name:"Vietnamese"},{code:"vo",name:"Volap_k"},{code:"wa",name:"Walloon"},{code:"cy",name:"Welsh"},{code:"fy",name:"Western Frisian"},{code:"wo",name:"Wolof"},{code:"xh",name:"Xhosa"},{code:"yi",name:"Yiddish"},{code:"yo",name:"Yoruba"},{code:"za",name:"Zhuang, Chuang"},{code:"zu",name:"Zulu"}],sa=({fields:t,translate:a})=>{let l=[];return Object.keys(t).forEach(i=>{let d=t[i];l.push({title:d.label?d.label:i,dataIndex:d.dataIndex?d.dataIndex.join("."):i,isDate:d.type==="date"})}),l};function ca({fields:t,translate:a,moneyFormatter:l,dateFormat:i}){let d=[];return Object.keys(t).forEach(o=>{let n=t[o];const r=n.dataIndex?n.dataIndex:[o],f={boolean:{title:n.label?a(n.label):a(o),dataIndex:r,onCell:()=>({props:{style:{width:"60px"}}}),render:(m,s)=>e.jsx(U,{checked:s[o],checkedChildren:e.jsx(W,{}),unCheckedChildren:e.jsx(q,{})})},date:{title:n.label?a(n.label):a(o),dataIndex:r,render:(m,s)=>{const c=P(s[o]).format(i);return e.jsx(A,{bordered:!1,color:n.color,children:c})}},currency:{title:n.label?a(n.label):a(o),dataIndex:r,onCell:()=>({style:{textAlign:"right",whiteSpace:"nowrap"}}),render:(m,s)=>l({amount:s[o],currency_code:s.currency})},async:{title:n.label?a(n.label):a(o),dataIndex:r,render:(m,s)=>{var c;return e.jsx(A,{bordered:!1,color:n.color||((c=s[o])==null?void 0:c.color)||s.color,children:m})}},color:{title:n.label?a(n.label):a(o),dataIndex:r,render:(m,s)=>{var c;return e.jsx(A,{bordered:!1,color:m,children:(c=Ee.find(p=>p.value===m))==null?void 0:c.label})}},stringWithColor:{title:n.label?a(n.label):a(o),dataIndex:r,render:(m,s)=>e.jsx(A,{bordered:!1,color:s.color||n.color,children:m})},tag:{title:n.label?a(n.label):a(o),dataIndex:r,render:(m,s)=>e.jsx(A,{bordered:!1,color:n.color,children:s[o]&&s[o]})},selectWithFeedback:{title:n.label?a(n.label):a(o),dataIndex:r,render:(m,s)=>{if(n.renderAsTag){const c=n.options.find(p=>p.value===s[o]);return e.jsx(A,{bordered:!1,color:c==null?void 0:c.color,children:s[o]&&a(s[o])})}else return s[o]&&a(s[o])}},select:{title:n.label?a(n.label):a(o),dataIndex:r,render:(m,s)=>{if(n.renderAsTag){const c=n.options.find(p=>p.value===s[o]);return e.jsx(A,{bordered:!1,color:c==null?void 0:c.color,children:s[o]&&s[o]})}else return s[o]&&s[o]}},selectWithTranslation:{title:n.label?a(n.label):a(o),dataIndex:r,render:(m,s)=>{if(n.renderAsTag){const c=n.options.find(p=>p.value===s[o]);return e.jsx(A,{bordered:!1,color:c==null?void 0:c.color,children:s[o]&&a(s[o])})}else return s[o]&&a(s[o])}},array:{title:n.label?a(n.label):a(o),dataIndex:r,render:(m,s)=>s[o].map(c=>e.jsx(A,{bordered:!1,color:n.colors[c],children:c},`${k.generate()}`))},country:{title:n.label?a(n.label):a(o),dataIndex:r,render:(m,s)=>{const c=_e.find(p=>p.value===s[o]);return e.jsxs(A,{bordered:!1,color:n.color||void 0,children:[(c==null?void 0:c.icon)&&(c==null?void 0:c.icon)+" ",(c==null?void 0:c.label)&&a(c.label)]})}},language:{title:n.label?n.label:o,dataIndex:r,render:(m,s)=>{const c=oa.find(p=>p.value===s[o]);return e.jsxs(A,{bordered:!1,color:n.color||void 0,children:[(c==null?void 0:c.code)&&(c==null?void 0:c.code)+" ",(c==null?void 0:c.label)&&c.label]})}}},b={title:n.label?a(n.label):a(o),dataIndex:r},C=n.type;n.disableForTable||(Object.keys(f).includes(C)?d.push(f[C]):d.push(b))}),d}function ia({config:t}){const{dateFormat:a}=fe();let{readColumns:l,fields:i}=t;const d=V(),{result:o}=M(be),{state:n}=B(),{isReadBoxOpen:r}=n,[f,b]=h.useState([]);i&&(l=[...sa({fields:i,translate:d})]),h.useEffect(()=>{const s=[];l.map(c=>{const p=c.dataIndex,S=c.title,y=c.isDate||!1;let x=xe(o,p);x=y?P(x).format(a):x,s.push({propsKey:p,label:S,value:x})}),b(s)},[o]);const C=r?{display:"block",opacity:1}:{display:"none",opacity:0},m=f.map(s=>e.jsxs(J,{gutter:12,children:[e.jsx(F,{className:"gutter-row",span:8,children:e.jsx("p",{children:s.label})}),e.jsx(F,{className:"gutter-row",span:2,children:e.jsx("p",{children:" : "})}),e.jsx(F,{className:"gutter-row",span:14,children:e.jsx("p",{children:s.value})})]},s.propsKey));return e.jsx("div",{style:C,children:m})}function la({config:t,onRerender:a}){let{entity:l,searchConfig:i}=t;const{displayLabels:d,searchFields:o,outputValue:n="_id"}=i,r=R(),{crudContextAction:f}=B(),{panel:b,collapsedBox:C,readBox:m}=f,{result:s,isLoading:c,isSuccess:p}=M(ea),[S,y]=h.useState([]),[x,T]=h.useState(void 0),u=h.useRef(!1),[D,_]=h.useState(!1),[E,$]=h.useState(""),[Z,ae]=h.useState(""),[,oe]=De(()=>{ae(E)},500,[E]),I=v=>d.map(z=>v[z]).join(" ");h.useEffect(()=>{if(Z!=""){const v={q:Z,fields:o};r(j.search({entity:l,options:v}))}return()=>{oe()}},[Z]);const Q=v=>{v&&v!=""&&(u.current=!0,_(!0),y([]),T(void 0),$(v))},ne=v=>{const z=s.find(K=>K[n]===v);r(j.currentItem({data:z})),b.open(),C.open(),m.open(),a()};return h.useEffect(()=>{u.current&&(p?y(s):(_(!1),T(void 0),y([])))},[p,s]),e.jsx(de,{loading:c,showSearch:!0,allowClear:!0,placeholder:e.jsx(Ce,{style:{float:"right",padding:"8px 0"}}),defaultActiveFirstOption:!1,filterOption:!1,notFoundContent:D?"... Searching":e.jsx(Le,{}),value:x,onSearch:Q,style:{width:"100%"},onSelect:ne,children:S.map(v=>e.jsx(de.Option,{value:v[n],children:I(v)},v[n]))})}function da({config:t}){const[a,l]=h.useState([0]),i=()=>{l([a+1])};return a.map(d=>e.jsx(la,{config:t,onRerender:i},d))}function ra({config:t}){const{crudContextAction:a}=B(),{collapsedBox:l,panel:i}=a,{ADD_NEW_ENTITY:d}=t,o=()=>{i.open(),l.close()};return e.jsx(w,{onClick:o,type:"primary",children:d})}function ma({config:t,extra:a=[]}){let{entity:l,dataTableColumns:i,DATATABLE_TITLE:d,fields:o,searchConfig:n}=t;const{crudContextAction:r}=B(),{panel:f,collapsedBox:b,modal:C,readBox:m,editBox:s,advancedBox:c}=r,p=V(),{moneyFormatter:S}=Fe(),{dateFormat:y}=fe(),x=[{label:"Edit",key:"edit",icon:e.jsx(he,{})},{label:"View",key:"read",icon:e.jsx(Se,{})},...a,{type:"divider"},{label:"Remove",key:"delete",icon:e.jsx(je,{})}],T=g=>{I(j.currentItem({data:g})),f.open(),b.open(),m.open()};function u(g){I(j.currentItem({data:g})),I(j.currentAction({actionType:"update",data:g})),s.open(),f.open(),b.open()}function D(g){I(j.currentAction({actionType:"delete",data:g})),C.open()}function _(g){I(j.currentItem({data:g})),I(j.currentAction({actionType:"update",data:g})),c.open(),f.open(),b.open()}let E=[];o?E=[...ca({fields:o,translate:p,moneyFormatter:S,dateFormat:y})]:E=[...i],i=[...E,{title:"",key:"action",fixed:"right",render:(g,O)=>e.jsx(Oe,{menu:{items:x,onClick:({key:G})=>{switch(G){case"read":T(O);break;case"edit":u(O);break;case"delete":D(O);break;case"updatePassword":_(O);break}}},trigger:["click"],children:e.jsx(Pe,{style:{cursor:"pointer",fontSize:"24px"},onClick:G=>G.preventDefault()})})}];const{result:$,isLoading:Z}=M(Ue),{pagination:ae,items:oe}=$,I=R(),Q=h.useCallback(g=>{const O={page:g.current||1,items:g.pageSize||10};I(j.list({entity:l,options:O}))},[]),ne=g=>{const G={q:g.target.value,fields:(n==null?void 0:n.searchFields)||""};I(j.list({entity:l,options:G}))},v=()=>{I(j.list({entity:l}))};h.useEffect(()=>{const g=new AbortController;return v(),()=>{g.abort()}},[]);const z=M(ye);let K,se,X,ce,ee;return d=="Customer List"?(K=e.jsx(L,{placement:"top",title:"Export to CSV",children:e.jsx(w,{icon:e.jsx(te,{})})},`${k.generate()}`),se=e.jsx(L,{placement:"top",title:"Current Agreement",children:e.jsx(w,{icon:e.jsx(qe,{})})},`${k.generate()}`),X=e.jsx(L,{placement:"top",title:"Hide Archived",children:e.jsx(U,{checkedChildren:e.jsx(W,{}),unCheckedChildren:e.jsx(q,{})})},`${k.generate()}`),ce=e.jsx(L,{placement:"top",title:"Hide Disabled",children:e.jsx(U,{checkedChildren:e.jsx(W,{}),unCheckedChildren:e.jsx(q,{})})},`${k.generate()}`),x.splice(2,0,{label:"Send Credential",key:"credential",icon:e.jsx(ve,{})}),x.splice(3,0,{label:"Replace Account",key:"replace",icon:e.jsx(ie,{})}),x.splice(4,0,{label:"Reset Account",key:"reset",icon:e.jsx(le,{})}),x.splice(5,0,{label:"Hide Account",key:"hide",icon:e.jsx(Te,{})}),x.splice(6,0,{label:"Manage Account",key:"manage",icon:e.jsx(Ne,{})}),ee=[{_id:"667c478099065d3ac324b527",type:"people",name:"Carlos Rodrigo",phone:"+58506126851",email:"test@gmail.com",country:"VE",first_name:"Carlos",last_name:"Carlos",status:"pending_kyc",created:"2024-06-26T16:53:04.473Z",updated:"2024-06-26T16:53:04.473Z",language:"en",plan:"5K Two Phase Test of Son Alephon ver 1",title:"Trading Account",archived:!1,active:!0}]):d=="Order List"?(K=e.jsx(L,{placement:"top",title:"Export to CSV",children:e.jsx(w,{icon:e.jsx(te,{})})},`${k.generate()}`),X=e.jsx(L,{placement:"top",title:"Hide Archived",children:e.jsx(U,{checkedChildren:e.jsx(W,{}),unCheckedChildren:e.jsx(q,{})})},`${k.generate()}`),ee=[{_id:"667c478099065d3ac324b527",customer:"Carlos Rodrigo",country:"VE",status:"completed",created:"2024-06-26T16:53:04.473Z",updated:"2024-06-26T16:53:04.473Z",language:"en",plan:"25K Two Phase Test of Son Alephon ver 3",order:"667c478099065d3ac324b527",archived:!1,price:5.5}]):d=="Plan List"&&(K=e.jsx(L,{placement:"top",title:"Export to CSV",children:e.jsx(w,{icon:e.jsx(te,{})})},`${k.generate()}`),X=e.jsx(L,{placement:"top",title:"Hide Archived",children:e.jsx(U,{checkedChildren:e.jsx(W,{}),unCheckedChildren:e.jsx(q,{})})},`${k.generate()}`),x.splice(2,0,{label:"Clone Plan",key:"clone",icon:e.jsx(ie,{})}),ee=[{_id:"667c478099065d3ac324b527",created:"2024-06-26T16:53:04.473Z",updated:"2024-06-26T16:53:04.473Z",description:"25K Two Phase Test of Son Alephon ver 3",plan_type:"phase1",product:"product1",trading_group:"trading group 1",archived:!1,price:5.5,leverage_1:30,start_balance:5e3,max_total_loss_limit:10,profit_target:10,daily_loss_limit:10,max_inactivity_days:30,payout_min_amount:100,reset_token:3}]),e.jsxs(e.Fragment,{children:[e.jsx(Ae,{onBack:()=>window.history.back(),backIcon:z==="rtl"?e.jsx(Re,{}):e.jsx(Ye,{}),title:d,ghost:!1,extra:[X,ce,e.jsx(we,{onChange:ne,placeholder:p("search"),allowClear:!0},"searchFilterDataTable"),se,K,e.jsx(L,{placement:"top",title:"Refresh",children:e.jsx(w,{onClick:Q,icon:e.jsx(le,{})})},`${k.generate()}`),e.jsx(ra,{config:t},`${k.generate()}`)],style:{padding:"20px 0px",direction:z}}),e.jsx(ke,{columns:i,rowKey:g=>g._id,dataSource:ee,pagination:ae,loading:Z,onChange:Q,scroll:{x:!0}})]})}function ua({children:t}){return e.jsx(ge,{children:t})}const pa=({onChange:t,title:a})=>e.jsx("div",{className:"collapseBoxHeader",onClick:t,children:a}),ha=({isOpen:t,children:a})=>{const l=t?{display:"block",opacity:1}:{display:"none",opacity:0};return e.jsx("div",{className:"TopCollapseBox",children:e.jsx("div",{style:l,children:e.jsx(J,{children:e.jsxs(F,{span:24,children:[" ",a]})})})})},xa=({isOpen:t,children:a})=>{const l=t?{display:"none",opacity:0}:{display:"block",opacity:1};return e.jsx("div",{className:"BottomCollapseBox",children:e.jsx("div",{style:l,children:e.jsx(J,{children:e.jsxs(F,{span:24,children:[" ",a]})})})})};function fa({topContent:t,bottomContent:a,buttonTitle:l,isCollapsed:i,onCollapse:d}){const o=i?"collapsed":"";return e.jsxs(e.Fragment,{children:[e.jsx(ha,{isOpen:i,children:t}),e.jsxs("div",{className:"collapseBox "+o,children:[e.jsx(pa,{title:l,onChange:d}),e.jsx("div",{className:"whiteBg"}),e.jsx(xa,{isOpen:i,children:a})]})]})}const{useBreakpoint:ja}=Ve;function ba({config:t,topContent:a,bottomContent:l,fixHeaderPanel:i}){ja();const{ADD_NEW_ENTITY:d}=t,{state:o,crudContextAction:n}=B(),{isPanelClose:r,isBoxCollapsed:f}=o,{panel:b,collapsedBox:C}=n,[m,s]=h.useState(r),[c,p]=h.useState("-1px"),[S,y]=h.useState(0),[x,T]=h.useState("20px");h.useEffect(()=>{let _=[];return r?(y(0),T("20px"),_=setTimeout(()=>{p("-1px"),s(r)},200)):(s(r),p(0),_=setTimeout(()=>{y(1),T(0)},200)),()=>clearTimeout(_)},[r]);const u=()=>{b.collapse()},D=()=>{C.collapse()};return e.jsx(He,{title:t.PANEL_TITLE,placement:"right",onClose:u,open:!r,width:450,children:e.jsxs("div",{className:"sidePanelContent",style:{opacity:S,paddingTop:x},children:[i,e.jsx(fa,{buttonTitle:d,isCollapsed:f,onCollapse:D,topContent:a,bottomContent:l})]})})}const{Content:ga}=Ie,Ca=({children:t})=>{const{state:a,crudContextAction:l}=B();pe();const{isPanelClose:i}=a,[d,o]=h.useState(i);return h.useEffect(()=>{let n=[];return i?n=setTimeout(()=>{o(i)},200):o(i),()=>clearTimeout(n)},[i]),e.jsx(ga,{className:"whiteBox shadow layoutPadding",style:{margin:"30px auto",width:"100%",maxWidth:"100%",flex:"none"},children:t})};function Sa({children:t,config:a,sidePanelTopContent:l,sidePanelBottomContent:i,fixHeaderPanel:d}){return e.jsx(e.Fragment,{children:e.jsxs(ua,{children:[e.jsx(ba,{config:a,topContent:l,bottomContent:i,fixHeaderPanel:d}),e.jsxs(Ca,{children:[" ",t]})]})})}function ya({config:t,formElements:a,withUpload:l}){const i=V(),{crudContextAction:d,state:o}=B(),{deleteModalLabels:n}=t,{modal:r,editBox:f}=d,{isReadBoxOpen:b,isEditBoxOpen:C}=o,{result:m}=M(be),s=R(),[c,p]=h.useState("");h.useEffect(()=>{if(m){const T=n.map(u=>m[u]).join(" ");p(T)}},[m]);const S=()=>{s(j.currentAction({actionType:"delete",data:m})),r.open()},y=()=>{s(j.currentAction({actionType:"update",data:m})),f.open()},x=b||C?{opacity:1}:{opacity:0};return e.jsxs(e.Fragment,{children:[e.jsxs(J,{style:x,gutter:24,children:[e.jsx(F,{span:10,children:e.jsx("p",{style:{marginBottom:"10px"},children:c})}),e.jsxs(F,{span:14,children:[e.jsx(w,{onClick:S,type:"text",icon:e.jsx(je,{}),size:"small",style:{float:"right",marginLeft:"5px",marginTop:"10px"},children:i("remove")}),e.jsx(w,{onClick:y,type:"text",icon:e.jsx(he,{}),size:"small",style:{float:"right",marginLeft:"0px",marginTop:"10px"},children:i("edit")})]}),e.jsx(F,{span:24,children:e.jsx("div",{className:"line"})}),e.jsx("div",{className:"space10"})]}),e.jsx(ia,{config:t}),e.jsx(na,{config:t,formElements:a,withUpload:l})]})}function va({config:t}){const{crudContextAction:a}=B(),{collapsedBox:l}=a,i=()=>{l.close()};return e.jsxs(J,{gutter:8,children:[e.jsx(F,{className:"gutter-row",span:21,children:e.jsx(da,{config:t})}),e.jsx(F,{className:"gutter-row",span:3,children:e.jsx(w,{onClick:i,block:!0,icon:e.jsx(ze,{})})})]})}function za({config:t,createForm:a,updateForm:l,withUpload:i=!1}){const d=R();return h.useLayoutEffect(()=>{d(j.resetState())},[]),e.jsxs(Sa,{config:t,fixHeaderPanel:e.jsx(va,{config:t}),sidePanelBottomContent:e.jsx(aa,{config:t,formElements:a,withUpload:i}),sidePanelTopContent:e.jsx(ya,{config:t,formElements:l,withUpload:i}),children:[e.jsx(ma,{config:t}),e.jsx(ta,{config:t})]})}export{za as C,oa as l,be as s};
